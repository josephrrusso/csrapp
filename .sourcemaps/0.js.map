{"version":3,"sources":["../../src/controllers/users/usersview.module.ts","../../src/pages/protected-page/protected-page.ts","../../src/app/components.module.ts","../../src/controllers/components/entity-view.ts","../../src/controllers/components/form-view.ts","../../src/controllers/users/usersview.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["\nimport {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {UsersInfoPage} from './usersview';\nimport {ComponentsModule} from '../../app/components.module';\nimport {TranslateModule} from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    UsersInfoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UsersInfoPage),\n    TranslateModule.forChild(),\n    ComponentsModule\n  ],\n  exports: [\n    UsersInfoPage\n  ]\n})\nexport class UsersInfoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/users/usersview.module.ts","import {NavController, NavParams} from 'ionic-angular';\nimport {Storage} from '@ionic/storage';\n\nexport class ProtectedPage {\n\n  //geolocation: Geolocation;\n  //alertCtrl: AlertController;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public storage: Storage\n  ) {\n    //this.geolocation = Geolocation;\n    //this.alertCtrl = AlertController;\n  }\n\n  ionViewCanEnter() {\n    // Get token expiry. If past due, then log out\n    \n    // If no token, log out\n    this.storage.get('id_token')\n      .then(id_token => {\n        if (id_token === null) {\n          console.log(\"token not found\")\n          /*\n          this.storage.remove('user');\n          this.storage.remove('id_token');\n          this.storage.remove('expiry');\n          */\n          this.navCtrl.setRoot('LoginPage');\n          return false;\n        }\n        else {\n          this.storage.get('expiry')\n          .then(expiry => {\n            var now = Math.floor((new Date).getTime()/1000);\n            if (expiry < now) {\n              console.log(\"expiry epoch surpassed\")\n              /*\n              this.storage.remove('user');\n              this.storage.remove('id_token');\n              this.storage.remove('expiry');\n              */\n              this.navCtrl.setRoot('LoginPage');\n              return false;\n            }\n            else {\n              return true;\n            }\n          })\n          .catch(e => console.log(\"Page Auth Error\"));\n        }\n      })\n      .catch(e => console.log(\"Page Auth Error\"));\n\n    //return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/protected-page/protected-page.ts","import { NgModule } from '@angular/core';\nimport { EntityViewComponent } from '../controllers/components/entity-view';\nimport { FormViewComponent } from '../controllers/components/form-view';\nimport {IonicModule} from \"ionic-angular\";\n\n@NgModule({\n    declarations: [EntityViewComponent, FormViewComponent],\n    imports: [IonicModule],\n    exports: [EntityViewComponent, FormViewComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components.module.ts","/*\n\nhttps://scotch.io/@kashyapmukkamala/using-http-interceptor-with-angular2\n\n\n*/\n\n\nimport { Component, Input, ViewChild, ElementRef } from '@angular/core';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport {NeedFulfillmentsService} from '../../providers/needFulfillments-service';\nimport {NeedFulfillmentsModel} from '../../models/needFulfillments.model';\n\n\ndeclare var google;\n\n@Component({\n  selector: 'entity-view',\n  templateUrl: '../../pages/components/entity-view.html'\n})\nexport class EntityViewComponent {\n\n\t@ViewChild('map') mapElement: ElementRef;\n  map: any;\n\n\t@Input()\n    entity: any;\n\n  text: string;\n  datapoints: any;\n  needs: any;\n  need_fulfillments: any;\n  inventory: any;\n  hidebutton: any;\n  completionmessage: any;\n\n  constructor(public geolocation: Geolocation, public needFulfillmentsService: NeedFulfillmentsService) {\n    //console.log('Hello AppHeaderComponent Component');\n    //this.text = 'Hello World';\n  }\n\n\tngOnInit() {\n\t\tthis.needs = this.filterViewableNeeds(this.hashToArray(this.entity.data.need_types[0]));\n\t\tthis.inventory = this.filterViewableNeeds(this.hashToArray(this.entity.data.need_types[1]));\n    this.datapoints = this.filterViewableDatapoints(this.hashToArray(this.entity.data.datapoints));\n\t\tthis.need_fulfillments = this.entity.need_fulfillments;\n\t\tthis.loadMap(this.entity.data.entity.latitude, this.entity.data.entity.longitude);\n    this.hidebutton = {};\n    this.completionmessage = false;\n\n    for (var n in this.need_fulfillments) {\n      this.hidebutton[this.need_fulfillments[n]['need_id']] = true;\n    }\n\t}\n\n\tfilterViewableDatapoints(array) {\n\t\tvar newarray = [];\n\t\tfor (var a in array) {\n\t\t\tif (array[a].viewed) {\n\t\t\t\tnewarray.push(array[a]);\n\t\t\t}\n\t\t}\n\t\treturn newarray;\n\t}\n\tfilterViewableNeeds(array) {\n\t\tvar newarray = [];\n\t\tfor (var a in array) {\n\t\t\tif (array[a].viewed && array[a].data.length) {\n\t\t\t\tnewarray.push(array[a]);\n\t\t\t}\n\t\t}\n\t\treturn newarray;\n\t}\n\n\thashToArray(hash) {\n\t\tvar array = [];\n\t\tfor (var id in hash) {\n\t\t\tvar obj = hash[id];\n\t\t\tobj.id = id;\n\t\t\tarray.push(obj);\n\t\t}\n\t\treturn array;\n\t}\n\n  addNeedfulfillment(need_id, group_id) {\n    this.needFulfillmentsService.add(need_id, group_id)\n      .then(data => {\n        if (data['success']) {\n          this.need_fulfillments = data['data'];\n          this.hidebutton[data['data'][0]['need_id']] = true;\n        }\n      })\n      .catch(e => console.log(\"View tickets error\", e));\n  }\n\n  submitStage(id, psm) {\n\n    var doc = <HTMLFormElement>document.getElementById('psmform_'+psm.id)\n    var formData = {};\n    var inputs = doc.getElementsByClassName('dvinput');\n    for (var i = 0; i < inputs.length; i++) {\n      var el = <HTMLFormElement>inputs[i]\n      if (!formData['datapoint_value']) { \n        formData['datapoint_value'] = {}\n      }\n      if (!formData['datapoint_value'][el.dataset.dvid]) { \n        formData['datapoint_value'][el.dataset.dvid] = {}\n      }\n      formData['datapoint_value'][el.dataset.dvid][el.name] = el.value;\n    }\n\n    this.needFulfillmentsService.advance(id, formData, this.entity.scope)\n      .then(data => {\n        if (data.success) {\n          this.need_fulfillments = data.data;\n        }\n        if (data.final) {\n          this.completionmessage = true;\n        }\n      })\n      .catch(e => console.log(\"View tickets error\", e));\n\n\n    //this.need_fulfillments = [];\n\n    // https://forum.ionicframework.com/t/removing-previous-page-from-nav-stack/100952/7\n    /*\n    let currentIndex = this.navCtrl.getActive().index;\n    this.navCtrl.push('TicketsInfoPage', {ticket_id: id, campaign_id: this.campaign.id}).then(() => {\n        this.navCtrl.remove(currentIndex);\n    });\n    */\n\n    /*\n    var formdata = [];\n    var inputs = doc.getElementsByClassName('input');\n    for (var i = 0; i < inputs.length; i++) {\n      var el = inputs[i]\n      formdata[el.name] = el.value;\n    }\n    console.log(formdata);\n    */\n  }\n\n  showForm(psm) {\n    var hider = document.getElementById('psmhider_'+psm.id)\n    hider.style.display = 'block';\n    var button = document.getElementById('psmdonebutton_'+psm.id)\n    button.style.display = 'none';\n  }\n\n\n\tloadMap(lat: number, lng: number) {\n \n    let latLng = new google.maps.LatLng(lat, lng);\n \n    let mapOptions = {\n      center: latLng,\n      zoom: 15,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      gestureHandling: 'cooperative'\n    }\n \n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n    this.dropMarker(lat, lng);\n\n    this.geolocation.getCurrentPosition().then((position) => {\n      this.dropMarker(position.coords.latitude, position.coords.longitude);\n      var fitBounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(position.coords.latitude, position.coords.longitude),\n        new google.maps.LatLng(lat, lng)\n      );\n      this.map.fitBounds(fitBounds);\n    }, (err) => {});\n  }\n\n\n  dropMarker(latitude, longitude) {\n    var icon = 'http://crowdsourcerescue.com/img/mappin3.png';\n    var myLatLng = new google.maps.LatLng({lat: latitude, lng: longitude});\n    var marker = new google.maps.Marker({\n      position: myLatLng,\n      map: this.map,\n      icon: icon,\n    });\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/components/entity-view.ts","import { Component, Input, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'form-view',\n  templateUrl: '../../pages/components/form-view.html'\n})\nexport class FormViewComponent {\n\n\t@ViewChild('map') mapElement: ElementRef;\n\n\t@Input()\n    form: any;\n    arr: any;\n\n  constructor() {\n    //console.log('Hello AppHeaderComponent Component');\n    //this.text = 'Hello World';\n  }\n\n\tngOnInit() {\n    var json = this.form.form.json;\n    this.arr = JSON.parse(json);\n    console.log(this.arr);\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/components/form-view.ts","\nimport {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, MenuController} from 'ionic-angular';\nimport {ProtectedPage} from '../../pages/protected-page/protected-page';\nimport {Storage} from '@ionic/storage';\nimport {UsersService} from '../../providers/users-service';\nimport {UsersModel} from '../../models/users.model';\nimport { Geolocation } from '@ionic-native/geolocation';\n\ndeclare var google;\n\n@IonicPage()\n@Component({\n  selector: 'page-user-info-page',\n  templateUrl: '../../pages/users/view.html',\n})\nexport class UsersInfoPage extends ProtectedPage {\n\n  private campaign_id: number;\n  private user_id: number;\n  private user: UsersModel;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public menuCtrl: MenuController,\n    public storage: Storage,\n    public geolocation: Geolocation,\n    public usersService: UsersService) {\n\n    super(navCtrl, navParams, storage);\n    \n    //this.user = navParams.get('user');\n    this.user_id = navParams.get('user_id');\n    this.campaign_id = navParams.get('campaign_id');\n\n  }\n  \n  ionViewWillEnter() {\n    this.usersService.view(this.user_id, this.campaign_id)\n      .then(user => {\n        user.scope = this.campaign_id;\n        this.user = user;\n      })\n      .catch(e => console.log(\"View users error\", e));\n  }\n\n  ionViewDidLoad() { }\n\n\n  editUsers(user: UsersModel) {\n    this.navCtrl.push('UsersEditPage', {user: user});\n  }\n  \n  deleteUsers(user: UsersModel) {\n    this.usersService.delete(user.id)\n      .then(() => this.navCtrl.pop())\n      .catch(e => console.log(\"Delete user error\", e)); \n  }\n  notification() {\n    this.navCtrl.push('NotificationsPage');\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/users/usersview.ts"],"sourceRoot":""}